<script>
    Nylon.addReducer('profile03', function (state, action) {
        state = state || {
            eduLevel: [],
            typeAcademy: [],
            academy: [],
            faculty: [],
            groupFaculty: [],
            fieldStudy: []
        }

        switch (action.type) {
            case 'PROFILE_03_GET_EDU_LEVEL':
                state.eduLevel = action.data
                return state
            case 'PROFILE_03_GET_TYPE_ACADEMY':
                state.typeAcademy = action.data
                return state
            case 'PROFILE_03_GET_ACADEMY':
                state.academy = action.data
                return state
            case 'PROFILE_03_GET_FACULTY':
                state.faculty = action.data
                return state
            case 'PROFILE_03_GET_GROUP_FACULTY':
                state.groupFaculty = action.data
                return state
            case 'PROFILE_03_GET_FILED_STUDY':
                state.fieldStudy = action.data
                return state
            default:
                return state
        }

    })


    Nylon.addAction({
        PROFILE_03_GET_EDU_LEVEL: function () {
            return dispatch => {
                axios.get('/edu/level').then(
                    res => {
                        dispatch({ type: 'PROFILE_03_GET_EDU_LEVEL', data: res.data })
                    }
                )
            }
        },
        PROFILE_03_GET_TYPE_ACADEMY: function () {
            return dispatch => {
                axios.get('/type/academy?group_work_id=H').then(
                    res => {
                        dispatch({ type: 'PROFILE_03_GET_TYPE_ACADEMY', data: res.data })
                    }
                )
            }
        },
        PROFILE_03_GET_ACADEMY: function (typeAcademyId) {
            var link = '/academy?group_work_id=H';
            if (typeAcademyId != '')
                link += `&type_academy_id=${typeAcademyId}`;
            return dispatch => {
                axios.get(link).then(
                    res => {
                        dispatch({ type: 'PROFILE_03_GET_ACADEMY', data: res.data })
                    }
                )
            }
        },
        PROFILE_03_GET_FACULTY: function () {
            return dispatch => {
                axios.get('/faculty').then(
                    res => {
                        dispatch({ type: 'PROFILE_03_GET_FACULTY', data: res.data })
                    }
                )
            }
        },
        PROFILE_03_GET_GROUP_FACULTY: function () {
            return dispatch => {
                axios.get('/group/faculty').then(
                    res => {
                        dispatch({ type: 'PROFILE_03_GET_GROUP_FACULTY', data: res.data })
                    }
                )
            }
        },
        PROFILE_03_GET_FILED_STUDY: function () {
            return dispatch => {
                axios.get('/field/study').then(
                    res => {
                        dispatch({ type: 'PROFILE_03_GET_FILED_STUDY', data: res.data })
                    }
                )
            }
        }
    })

</script>