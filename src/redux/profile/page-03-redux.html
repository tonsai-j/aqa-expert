<script>
    Nylon.addReducer('profile03', function (state, action) {
        state = state || {
            eduLevel: [],
            typeAcademy: [],
            school: []
        }

        switch (action.type) {
            case 'PROFILE_03_GET_EDU_LEVEL':
                state.eduLevel = action.data
            case 'PROFILE_03_GET_TYPE_ACADEMY':
                state.typeAcademy = action.data
            case 'PROFILE_03_GET_SCHOOL':
                state.school = action.data
            default:
                return state
        }
        return state
    })


    Nylon.addAction({
        PROFILE_03_GET_EDU_LEVEL: function () {
            return dispatch => {
                axios.get('/edu/level').then(
                    res => {
                        dispatch({ type: 'PROFILE_03_GET_EDU_LEVEL', data: res.data })
                    }
                )
            }
        },
        PROFILE_03_GET_TYPE_ACADEMY: function () {
            return dispatch => {
                axios.get('/type/academy').then(
                    res => {
                        dispatch({ type: 'PROFILE_03_GET_TYPE_ACADEMY', data: res.data })
                    }
                )
            }
        },
        PROFILE_03_GET_SCHOOL: function (typeAcademyId) {
            return dispatch => {
                axios.get(`/school?type_academy_id=${typeAcademyId}`).then(
                    res => {
                        dispatch({ type: 'PROFILE_03_GET_SCHOOL', data: res.data })
                    }
                )
            }
        }
    })

</script>